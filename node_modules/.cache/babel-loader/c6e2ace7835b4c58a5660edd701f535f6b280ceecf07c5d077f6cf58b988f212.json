{"ast":null,"code":"import _toConsumableArray from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();export var useCart=function useCart(){return useContext(CartContext);};export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),orderStatus=_useState4[0],setOrderStatus=_useState4[1];// Добавление товара в корзину\nvar addToCart=function addToCart(product){setCartItems(function(prevItems){var existingItem=prevItems.find(function(item){return item.id===product.id;});if(existingItem){// Увеличение количества существующего товара\nreturn prevItems.map(function(item){return item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item;});}// Добавление нового товара в корзину\nreturn[].concat(_toConsumableArray(prevItems),[_objectSpread(_objectSpread({},product),{},{quantity:1})]);});};// Обновление количества товара в корзине\nvar updateQuantity=function updateQuantity(productId,quantity){setCartItems(function(prevItems){return prevItems.map(function(item){return item.id===productId?_objectSpread(_objectSpread({},item),{},{quantity:quantity}):item;});});};// Удаление товара из корзины\nvar removeItem=function removeItem(productId){setCartItems(function(prevItems){return prevItems.filter(function(item){return item.id!==productId;});});};// Оформление заказа\nvar placeOrder=function placeOrder(){console.log('Оформление заказа:',cartItems);setCartItems([]);// Очистка корзины после оформления заказа\nsetOrderStatus('success');// Установка статуса заказа на \"успешно\"\n// Опционально: сброс статуса заказа через заданное время\nsetTimeout(function(){return setOrderStatus(null);},5000);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems:cartItems,addToCart:addToCart,updateQuantity:updateQuantity,removeItem:removeItem,placeOrder:placeOrder,orderStatus:orderStatus},children:children});};export default CartProvider;","map":{"version":3,"names":["React","createContext","useState","useContext","jsx","_jsx","CartContext","useCart","CartProvider","_ref","children","_useState","_useState2","_slicedToArray","cartItems","setCartItems","_useState3","_useState4","orderStatus","setOrderStatus","addToCart","product","prevItems","existingItem","find","item","id","map","_objectSpread","quantity","concat","_toConsumableArray","updateQuantity","productId","removeItem","filter","placeOrder","console","log","setTimeout","Provider","value"],"sources":["/Users/padkas2001gmail.com/Desktop/isis/src/components/CartContext/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\n\nconst CartContext = createContext();\n\nexport const useCart = () => useContext(CartContext);\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [orderStatus, setOrderStatus] = useState(null);\n\n  // Добавление товара в корзину\n  const addToCart = (product) => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.id === product.id);\n      if (existingItem) {\n        // Увеличение количества существующего товара\n        return prevItems.map(item => \n          item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\n        );\n      }\n      // Добавление нового товара в корзину\n      return [...prevItems, { ...product, quantity: 1 }];\n    });\n  };\n\n  // Обновление количества товара в корзине\n  const updateQuantity = (productId, quantity) => {\n    setCartItems(prevItems => \n      prevItems.map(item => \n        item.id === productId ? { ...item, quantity } : item\n      )\n    );\n  };\n\n  // Удаление товара из корзины\n  const removeItem = (productId) => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== productId));\n  };\n\n  // Оформление заказа\n  const placeOrder = () => {\n    console.log('Оформление заказа:', cartItems);\n    setCartItems([]); // Очистка корзины после оформления заказа\n    setOrderStatus('success'); // Установка статуса заказа на \"успешно\"\n\n    // Опционально: сброс статуса заказа через заданное время\n    setTimeout(() => setOrderStatus(null), 5000);\n  };\n\n  return (\n    <CartContext.Provider value={{\n      cartItems,\n      addToCart,\n      updateQuantity,\n      removeItem,\n      placeOrder,\n      orderStatus\n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}