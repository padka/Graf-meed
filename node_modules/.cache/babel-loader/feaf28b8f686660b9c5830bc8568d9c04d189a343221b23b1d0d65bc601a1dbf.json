{"ast":null,"code":"import _slicedToArray from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Container,Row,Col,Card,Button,Alert}from'react-bootstrap';import{useCart}from'../CartContext/CartContext';import'./Catalog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Catalog(){var _useCart=useCart(),addToCart=_useCart.addToCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addedToCart=_useState4[0],setAddedToCart=_useState4[1];useEffect(function(){fetch('/api/products').then(function(response){return response.json();}).then(function(data){return setProducts(data);}).catch(function(error){return console.error('Error fetching data:',error);});},[]);var handleAddToCart=function handleAddToCart(product){addToCart(product);setAddedToCart(true);setTimeout(function(){return setAddedToCart(false);},2000);};return/*#__PURE__*/_jsxs(Container,{className:\"catalog-container my-5\",children:[addedToCart&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:\"\\u0422\\u043E\\u0432\\u0430\\u0440 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443!\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\"})})}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{xs:12,sm:6,md:4,lg:3,className:\"mb-4 d-flex align-items-stretch\",children:/*#__PURE__*/_jsxs(Card,{className:\"product-card\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:product.image,alt:product.title}),/*#__PURE__*/_jsxs(Card.Body,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Card.Title,{children:product.title}),/*#__PURE__*/_jsx(Card.Text,{className:\"mt-auto\",children:\"\".concat(product.price,\" \\u0420\")}),/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"mt-auto\",onClick:function onClick(){return handleAddToCart(product);},children:\"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"})]})]})},product.id);})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",className:\"mt-3\",children:\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\"})})})]});}export default Catalog;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Button","Alert","useCart","jsx","_jsx","jsxs","_jsxs","Catalog","_useCart","addToCart","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","addedToCart","setAddedToCart","fetch","then","response","json","data","catch","error","console","handleAddToCart","product","setTimeout","className","children","variant","xs","map","sm","md","lg","Img","src","image","alt","title","Body","Title","Text","concat","price","onClick","id"],"sources":["/Users/padkas2001gmail.com/Desktop/isis/src/components/Catalog/Catalog.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Button, Alert } from 'react-bootstrap';\nimport { useCart } from '../CartContext/CartContext';\nimport './Catalog.css';\n\nfunction Catalog() {\n  const { addToCart } = useCart();\n  const [products, setProducts] = useState([]);\n  const [addedToCart, setAddedToCart] = useState(false);\n\n  useEffect(() => {\n    fetch('/api/products')\n      .then(response => response.json())\n      .then(data => setProducts(data))\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const handleAddToCart = (product) => {\n    addToCart(product);\n    setAddedToCart(true);\n    setTimeout(() => setAddedToCart(false), 2000);\n  };\n\n  return (\n    <Container className=\"catalog-container my-5\">\n      {addedToCart && <Alert variant=\"success\">Товар добавлен в корзину!</Alert>}\n      <Row>\n        <Col xs={12} className=\"text-center mb-4\">\n          <h2>Каталог товаров</h2>\n        </Col>\n      </Row>\n      <Row className=\"justify-content-center\">\n        {products.map(product => (\n          <Col xs={12} sm={6} md={4} lg={3} key={product.id} className=\"mb-4 d-flex align-items-stretch\">\n            <Card className=\"product-card\">\n              <Card.Img variant=\"top\" src={product.image} alt={product.title} />\n              <Card.Body className=\"d-flex flex-column\">\n                <Card.Title>{product.title}</Card.Title>\n                <Card.Text className=\"mt-auto\">\n                  {`${product.price} Р`}\n                </Card.Text>\n                <Button variant=\"success\" className=\"mt-auto\" onClick={() => handleAddToCart(product)}>\n                  Купить\n                </Button>\n              </Card.Body>\n            </Card>\n          </Col>\n        ))}\n      </Row>\n      <Row>\n        <Col className=\"text-center\">\n          <Button variant=\"outline-primary\" className=\"mt-3\">Показать больше</Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Catalog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}