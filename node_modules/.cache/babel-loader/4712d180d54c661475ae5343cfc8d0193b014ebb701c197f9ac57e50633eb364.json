{"ast":null,"code":"import _regeneratorRuntime from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/padkas2001gmail.com/Desktop/isis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useAuth}from'../AuthContext/AuthContext';import'bootstrap/dist/css/bootstrap.min.css';import'./AuthForm.css';// Убедитесь, что этот файл стилей подключен\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AuthForm=function AuthForm(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLogin=_useState2[0],setIsLogin=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useAuth=useAuth(),login=_useAuth.login;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setError('');if(!(!username||!password)){_context.next=5;break;}setError('Пожалуйста, заполните все поля.');return _context.abrupt(\"return\");case 5:_context.prev=5;if(!isLogin){_context.next=11;break;}_context.next=9;return login(username,password);case 9:_context.next=11;break;case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](5);setError(isLogin?'Ошибка при входе.':'Ошибка при регистрации.');case 16:case\"end\":return _context.stop();}},_callee,null,[[5,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-form-title\",children:isLogin?'Вход в систему':'Регистрация'}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"gradient-button btn btn-primary\",children:isLogin?'Войти':'Зарегистрироваться'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsLogin(!isLogin);},className:\"toggle-button btn btn-link\",children:isLogin?'Нет аккаунта? Зарегистрируйтесь':'Уже есть аккаунт? Войдите'})]})});};export default AuthForm;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","AuthForm","_useState","_useState2","_slicedToArray","isLogin","setIsLogin","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","_useState7","_useState8","error","setError","_useAuth","login","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","abrupt","t0","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","type","id","value","onChange","target","onClick"],"sources":["/Users/padkas2001gmail.com/Desktop/isis/src/components/AuthForm/AuthForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../AuthContext/AuthContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './AuthForm.css'; // Убедитесь, что этот файл стилей подключен\n\nconst AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    if (!username || !password) {\n      setError('Пожалуйста, заполните все поля.');\n      return;\n    }\n\n    try {\n      if (isLogin) {\n        await login(username, password);\n      } else {\n        // await register(username, password);\n      }\n    } catch (authError) {\n      setError(isLogin ? 'Ошибка при входе.' : 'Ошибка при регистрации.');\n    }\n  };\n\n  return (\n    <div className=\"auth-form-wrapper\">\n      <div className=\"auth-form-container\">\n        <h2 className=\"auth-form-title\">{isLogin ? 'Вход в систему' : 'Регистрация'}</h2>\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          <div className=\"mb-3\">\n            <label htmlFor=\"username\" className=\"form-label\">Имя пользователя:</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <label htmlFor=\"password\" className=\"form-label\">Пароль:</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <button type=\"submit\" className=\"gradient-button btn btn-primary\">\n            {isLogin ? 'Войти' : 'Зарегистрироваться'}\n          </button>\n        </form>\n        <button onClick={() => setIsLogin(!isLogin)} className=\"toggle-button btn btn-link\">\n          {isLogin ? 'Нет аккаунта? Зарегистрируйтесь' : 'Уже есть аккаунт? Войдите'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}